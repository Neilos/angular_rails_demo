<div ng-app='StockWatch'>
  <h1>Watchlist</h1>
  <div ng-controller="StockCtrl">
    <form ng-submit="createStock()">
      <select ui-select2="select2Options" ng-model="newCompany", data-placeholder="Enter the name of a listed company", ng-required="true">
        <option value=""></option>
        <option ng-repeat="stock in stocklist" value="{{stock.symbol}}">{{stock.name}}</option>
      </select>
      <input type="submit" value="Add">
    </form>
    <div ng-show="error">
      There was a problem with teh Yahoo Finace API. Please try again later.
    </div>
    <ul>
      <li ng-repeat="stock in stocks">
        {{stock.symbol}}, {{stock.name}}, {{stock.bid}}, {{stock.ask}}, {{stock.year_low}}, {{stock.year_high}}
        <a href="" ng-click="deleteStock(stock.id, $index)">Delete</a>
      </li>
    </ul>
  </div>
</div>
